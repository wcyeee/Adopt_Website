<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>動物領養平台</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100..900&display=swap" rel="stylesheet">
    <link rel="icon" href="image/i_logo.ico" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head> 
    
<body>
    <!-- 導覽列 -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary fixed-top">
        <div class="container-fluid">
            <img src="/docs/5.3/assets/brand/bootstrap-logo.svg" alt="Bootstrap" width="30" height="24">
            <!-- 網頁變窄的時候會出現的toggle按鈕-->
            <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav nav-underline me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="index.html">網站介紹</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="adopt.html">我要領養</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="login.html">個人頁面</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 動物園動畫區 -->
    <div id="pet-container" title="點擊切換狀態，拖曳移動">
        <img src="image/frame1.png" class="frame active" data-state="walk" alt="走路1" />
        <img src="image/frame2.png" class="frame" data-state="walk" alt="走路2" />
        <img src="image/frame3.png" class="frame" data-state="walk" alt="走路3" />
        <img src="image/idle.png" class="frame" data-state="idle" alt="靜止" />
        <img src="image/happy.png" class="frame" data-state="happy" alt="快樂" />
    </div>

    
    <div class="container my-5">
        <!-- 個人資料區 -->
        <div class="profile-header">
            <img src="image/profile.jpg" alt="頭貼" class="profile-img" />
            <div class="profile-info">
                <div class="profile-title">
                    <h2>個人資料</h2>
                    <button id="profile-edit-btn" class="btn btn-outline-primary btn-edit">編輯</button>
                    <button id="profile-logout-btn" class="btn btn-outline-primary btn-edit">登出</button>
                </div>
                <p>
                    <strong>姓名：</strong>王小明<br>
                    <strong style="font-size: 15px;">Email：</strong>example@mail.com<br>
                    <strong>電話：</strong>0912-345-678
                </p>
            </div>
        </div>

        <!-- 個人資料編輯浮動視窗 -->
        <div id="addprofileEditForm" class="modal-form" style="display:none;">
            <form id="profileEditForm" class="d-flex flex-column gap-4 p-4">
                <h1>個人資料編輯</h1>
                <p>請填寫需要更改的資料即可</p>
                    <div class="form-floating mb-1">
                        <input
                            type="text"
                            class="form-control"
                            id="registerUsername"
                            placeholder="請輸入使用者名稱"
                            pattern="^[A-Za-z0-9]+$"
                            title="使用者名稱只能包含英文字母和數字"
                        />
                        <label for="registerUsername">使用者名稱</label>
                    </div>
                    <div class="form-floating mb-1">
                        <input
                            type="password"
                            class="form-control"
                            id="registerPassword"
                            placeholder="密碼"
                        />
                        <label for="registerPassword">更改密碼</label>
                    </div>
                    <div class="form-floating mb-1">
                        <input
                            type="password"
                            class="form-control"
                            id="registerConfirmPassword"
                            placeholder="確認密碼"
                        />
                        <label for="registerConfirmPassword">確認密碼</label>
                    </div>
                    <div class="form-floating mb-1">
                        <input
                            type="email"
                            class="form-control"
                            id="registerEmail"
                            placeholder="name@example.com"
                        />
                        <label for="registerEmail">電子郵件</label>
                    </div>
                    <div class="form-floating mb-1">
                        <input
                            type="tel"
                            class="form-control"
                            id="registerPhone"
                            placeholder="0912345678"
                            pattern="09\d{8}"
                            title="請輸入有效的台灣行動電話 (09開頭共10碼數字)"
                        />
                        <label for="registerPhone">行動電話</label>
                    </div>

                <div class="d-flex justify-content-end gap-2">
                    <button type="button" id="cancelprofileBtn" class="btn btn-secondary">取消</button>
                    <button type="submit" id="saveprofileBtn" class="btn btn-primary">儲存</button>
                </div>
            </form>
        </div>

        <!-- 遮罩 -->
        <div id="overlay" class="overlay" style="display: none;"></div>


        <!-- 預約紀錄區 -->
        <section>
            <h3>預約紀錄</h3>
            <div class="table-responsive">
                <table class="table table-striped table-bordered align-middle">
                <thead class="table-light">
                    <tr>
                    <th>預約日期</th>
                    <th>動物名稱</th>
                    <th>狀態</th>
                    <th>備註</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                    <td>2024-07-01</td>
                    <td>小花</td>
                    <td>待審核</td>
                    <td>無</td>
                    </tr>
                    <tr>
                    <td>2024-06-15</td>
                    <td>小白</td>
                    <td>已完成</td>
                    <td>已領養成功</td>
                    </tr>
                    <!-- 其他紀錄 -->
                </tbody>
                </table>
            </div>
        </section>
        <!-- 上傳紀錄區 -->
        <section>
            <h3>上傳紀錄</h3>
            <div class="table-responsive">
                <table class="table table-striped table-bordered align-middle">
                <thead class="table-light">
                    <tr>
                    <th>上傳日期</th>
                    <th>動物名稱</th>
                    <th>種類</th>
                    <th>狀態</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                    <td>2024-05-20</td>
                    <td>大黃</td>
                    <td>狗</td>
                    <td>待領養</td>
                    </tr>
                    <tr>
                    <td>2024-05-10</td>
                    <td>小黑</td>
                    <td>貓</td>
                    <td>已領養</td>
                    </tr>
                    <!-- 其他紀錄 -->
                </tbody>
                </table>
            </div>
        </section>
    </div>


  <!-- 頁尾 -->
  <footer>
    <p>
      <a href="index.html">網站介紹</a>
      <span class="divider"> · </span>
      <a href="adopt.html">我要領養</a>
      <span class="divider"> · </span>
      <a href="login.html">登入/註冊</a>
      <br>
      Copyright &#169; 2025 領養動物網站 All rights reserved</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="script.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
        const addprofileEditForm = document.getElementById("addprofileEditForm");
        const profileEditForm = document.getElementById("profileEditForm");
        const profileEditBtn = document.getElementById("profile-edit-btn"); 

        const cancelprofileBtn = document.getElementById("cancelprofileBtn");
        const saveprofileBtn = document.getElementById("saveprofileBtn");

        const overlay = document.getElementById("overlay");
      
        function openForm() {
            addprofileEditForm.style.display = "block";
          if (overlay) overlay.style.display = "block";
          setTimeout(() => {
            addprofileEditForm.classList.add("show");
            if (overlay) overlay.classList.add("show");
          }, 10);
        }
      
        function closeForm() {
            addprofileEditForm.classList.remove("show");
          if (overlay) overlay.classList.remove("show");
      
          addprofileEditForm.removeEventListener("transitionend", onFormTransitionEnd);
          addprofileEditForm.addEventListener("transitionend", onFormTransitionEnd, { once: true });
      
          if (overlay) {
            overlay.removeEventListener("transitionend", onOverlayTransitionEnd);
            overlay.addEventListener("transitionend", onOverlayTransitionEnd, { once: true });
          }
        }
      
        function onFormTransitionEnd() {
          if (!addprofileEditForm.classList.contains("show")) {
            addprofileEditForm.style.display = "none";
            adoptForm.reset();
          }
        }
      
        function onOverlayTransitionEnd() {
          if (overlay && !overlay.classList.contains("show")) {
            overlay.style.display = "none";
          }
        }
      
        if (profileEditBtn) {
            profileEditBtn.addEventListener("click", () => {
            console.log("點擊成功");
            openForm();
          });
        }
      
        if (cancelprofileBtn) cancelprofileBtn.addEventListener("click", closeForm);
        if (overlay) overlay.addEventListener("click", closeForm);
      
        profileEditForm.addEventListener("submit", e => {
          e.preventDefault();
          const intro = document.getElementById("selfIntro").value.trim();
          if (!intro) {
            alert("請填寫自我介紹後再送出");
            return;
          }
          alert("申請已送出！");
          closeForm();
        });
      });   
  </script>

</body>
</html>